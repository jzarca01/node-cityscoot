var _0x41b4=['dXNl','dXJs','L3YyL2FjY291bnQvb2F1dGgvYXV0aA==','YXNzaWdu','aGVhZGVycw==','QmVhcmVyIA==','c2V0QWNjZXNzVG9rZW4=','bG9naW4=','cGFzc3dvcmQ=','UE9TVA==','ZGF0YQ==','ZXJyb3Igd2l0aCBsb2dpbg==','Z2V0U2Nvb3RlcnM=','R0VU','Z2V0U2Nvb3Rlcg==','ZmluZA==','aW5kZXhPZg==','L3YyL3Jlc2VydmF0aW9uL2NyZWF0ZS8=','bG9n','ZXJyb3Igd2l0aCBjcmVhdGVSZXNlcnZhdGlvbg==','b2JqZWN0','ZGVmYXVsdA==','YXhpb3M=','YnRvYQ==','YXhpb3MtbGljZW5zZS1taWRkbGV3YXJl','cGF0aA==','YXBwLXJvb3QtcGF0aA==','YXV0aFJlcXVlc3Q=','Y3JlYXRl','ZW1haWw=','YWNjZXNzVG9rZW4=','bm9kZS1jaXR5c2Nvb3Q=','cmVzb2x2ZQ==','Li4vbGljZW5zZV9maWxlcy9wdWJsaWNfa2V5LnBlbQ==','aW50ZXJjZXB0b3Jz','cmVxdWVzdA=='];(function(_0x476093,_0x4c0192){var _0x319cfc=function(_0x5e7d0c){while(--_0x5e7d0c){_0x476093['push'](_0x476093['shift']());}};_0x319cfc(++_0x4c0192);}(_0x41b4,0x1a0));var _0x3703=function(_0x142718,_0x2be65e){_0x142718=_0x142718-0x0;var _0x43cbe2=_0x41b4[_0x142718];if(_0x3703['EEBaAw']===undefined){(function(){var _0x58f947;try{var _0x4aa86a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x58f947=_0x4aa86a();}catch(_0x580a6b){_0x58f947=window;}var _0x3f5e13='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x58f947['atob']||(_0x58f947['atob']=function(_0x3cd9dd){var _0x2486e3=String(_0x3cd9dd)['replace'](/=+$/,'');for(var _0x7a3a05=0x0,_0x7ffdb1,_0x3141c4,_0x4e0053=0x0,_0x1a0e74='';_0x3141c4=_0x2486e3['charAt'](_0x4e0053++);~_0x3141c4&&(_0x7ffdb1=_0x7a3a05%0x4?_0x7ffdb1*0x40+_0x3141c4:_0x3141c4,_0x7a3a05++%0x4)?_0x1a0e74+=String['fromCharCode'](0xff&_0x7ffdb1>>(-0x2*_0x7a3a05&0x6)):0x0){_0x3141c4=_0x3f5e13['indexOf'](_0x3141c4);}return _0x1a0e74;});}());_0x3703['zqUHYY']=function(_0x2ea301){var _0x1541db=atob(_0x2ea301);var _0x29ef44=[];for(var _0x633517=0x0,_0x33c909=_0x1541db['length'];_0x633517<_0x33c909;_0x633517++){_0x29ef44+='%'+('00'+_0x1541db['charCodeAt'](_0x633517)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x29ef44);};_0x3703['pzTFRd']={};_0x3703['EEBaAw']=!![];}var _0x161d65=_0x3703['pzTFRd'][_0x142718];if(_0x161d65===undefined){_0x43cbe2=_0x3703['zqUHYY'](_0x43cbe2);_0x3703['pzTFRd'][_0x142718]=_0x43cbe2;}else{_0x43cbe2=_0x161d65;}return _0x43cbe2;};'use strict';function _0x494e5c(_0x2dc561){return _0x2dc561&&typeof _0x2dc561===_0x3703('0x0')&&_0x3703('0x1')in _0x2dc561?_0x2dc561[_0x3703('0x1')]:_0x2dc561;}var _0x5fef16=_0x494e5c(require(_0x3703('0x2')));var _0x1f1240=_0x494e5c(require(_0x3703('0x3')));var _0x46bb70=_0x494e5c(require(_0x3703('0x4')));var _0x2ee456=require(_0x3703('0x5'));var _0x3622de=_0x494e5c(require(_0x3703('0x6')));const {path}=_0x3622de;class _0xe031fd{constructor({licenseFilePath,licenseFile,email,password}){this[_0x3703('0x7')]=_0x5fef16[_0x3703('0x8')]({'baseURL':'https://api-v3.cityscoot.eu/api'});this[_0x3703('0x9')]=email;this['password']=password;this[_0x3703('0xa')]=null;_0x46bb70({'axiosInstance':this['autRequest'],'packageName':_0x3703('0xb'),'publicKeyPath':_0x2ee456[_0x3703('0xc')](_0x3703('0xd')),'licenseFilePath':licenseFilePath?_0x2ee456[_0x3703('0xc')](path,licenseFilePath):null,'licenseFile':licenseFile?licenseFile:null});this[_0x3703('0x7')][_0x3703('0xe')][_0x3703('0xf')][_0x3703('0x10')](_0x3cac8e=>{if(_0x3cac8e[_0x3703('0x11')]!==_0x3703('0x12')){Object[_0x3703('0x13')](_0x3cac8e[_0x3703('0x14')],{'Authorization':_0x3703('0x15')+this[_0x3703('0xa')]});}return _0x3cac8e;},_0x163df4=>Promise['reject'](_0x163df4));}[_0x3703('0x16')](_0x2c71e5){this[_0x3703('0xa')]=_0x2c71e5;}async[_0x3703('0x17')](){try{const _0x41c64b=_0x1f1240(this['email']+':'+this[_0x3703('0x18')]);const _0x51dc8c=await this['authRequest']({'method':_0x3703('0x19'),'url':'/v2/account/oauth/auth','headers':{'Authorization':'Basic\x20'+_0x41c64b}});const {access_token}=_0x51dc8c[_0x3703('0x1a')];this[_0x3703('0x16')](access_token);return _0x51dc8c['data'];}catch(_0x24b342){console['log'](_0x3703('0x1b'),_0x24b342);}}async[_0x3703('0x1c')](_0x361dca){try{const _0x490855=await this[_0x3703('0x7')]({'method':_0x3703('0x1d'),'url':'/v1/scooter/city/'+_0x361dca});return _0x490855[_0x3703('0x1a')];}catch(_0x1844a4){console['log']('error\x20with\x20getScooters',_0x1844a4);}}async[_0x3703('0x1e')](_0x13b50a,_0x12dc5a){try{const _0x5414ff=await this[_0x3703('0x1c')](_0x13b50a);const {data:{scooters}}=_0x5414ff;return scooters[_0x3703('0x1f')](_0x20af2f=>_0x20af2f['name'][_0x3703('0x20')](_0x12dc5a)>-0x1);}catch(_0x2367b3){console['log']('error\x20with\x20getScooters',_0x2367b3);}}async['createReservation'](_0x5c93c0){try{const _0x2d5973=await this[_0x3703('0x7')]({'method':_0x3703('0x1d'),'url':_0x3703('0x21')+_0x5c93c0});return _0x2d5973['data'];}catch(_0x1a8dd0){console[_0x3703('0x22')](_0x3703('0x23'),_0x1a8dd0);}}async['cancelReservation'](){try{const _0x2622f3=await this[_0x3703('0x7')]({'method':_0x3703('0x1d'),'url':'/v1/reservation/cancel'});return _0x2622f3[_0x3703('0x1a')];}catch(_0xa81fcd){console['log']('error\x20with\x20cancelReservation',_0xa81fcd);}}}module['exports']=_0xe031fd;
